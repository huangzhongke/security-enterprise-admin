{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0b62ff\"],{\"1ba9\":function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{visible:e.visible,title:e.dataForm.id?e.$t(\"update\"):e.$t(\"add\"),\"close-on-click-modal\":!1,\"close-on-press-escape\":!1},on:{\"update:visible\":function(t){e.visible=t}}},[a(\"el-form\",{ref:\"dataForm\",attrs:{model:e.dataForm,rules:e.dataRule,\"label-width\":\"120px\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.dataFormSubmitHandle()}}},[a(\"el-form-item\",{attrs:{prop:\"beanName\",label:e.$t(\"schedule.beanName\")}},[a(\"el-input\",{attrs:{disabled:!0},model:{value:e.dataForm.beanName,callback:function(t){e.$set(e.dataForm,\"beanName\",t)},expression:\"dataForm.beanName\"}})],1),a(\"el-form-item\",{attrs:{label:\"身份码\",\"label-width\":e.formLabelWidth,prop:\"authorization\"}},[a(\"el-input\",{attrs:{type:\"textarea\",row:10,autocomplete:\"off\"},model:{value:e.dataForm.authorization,callback:function(t){e.$set(e.dataForm,\"authorization\",t)},expression:\"dataForm.authorization\"}})],1),a(\"el-form-item\",{attrs:{label:\"起始港\",\"label-width\":e.formLabelWidth,prop:\"startPort.matched\"}},[a(\"el-select\",{attrs:{change:\"\",multiple:!1,filterable:\"\",remote:\"\",\"reserve-keyword\":\"\",placeholder:\"请输入关键词\",\"remote-method\":e.fromMethod,loading:e.selectFrom.loading},model:{value:e.dataForm.startPort.matched,callback:function(t){e.$set(e.dataForm.startPort,\"matched\",t)},expression:\"dataForm.startPort.matched\"}},e._l(e.selectFrom.options,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.matched}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"目的港\",\"label-width\":e.formLabelWidth,prop:\"endPort.matched\"}},[a(\"el-select\",{attrs:{change:\"\",multiple:!1,filterable:\"\",remote:\"\",\"reserve-keyword\":\"\",placeholder:\"请输入关键词\",\"remote-method\":e.toMethod,loading:e.selectTo.loading},model:{value:e.dataForm.endPort.matched,callback:function(t){e.$set(e.dataForm.endPort,\"matched\",t)},expression:\"dataForm.endPort.matched\"}},e._l(e.selectTo.options,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.matched}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"集装箱类型\",\"label-width\":e.formLabelWidth,prop:\"equipment\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.dataForm.equipment,callback:function(t){e.$set(e.dataForm,\"equipment\",t)},expression:\"dataForm.equipment\"}},e._l(e.equipmentType,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"数量\",\"label-width\":e.formLabelWidth,prop:\"quantity\"}},[a(\"el-input-number\",{attrs:{min:1,max:10,label:\"集装箱数量\"},model:{value:e.dataForm.quantity,callback:function(t){e.$set(e.dataForm,\"quantity\",e._n(t))},expression:\"dataForm.quantity\"}})],1),a(\"el-form-item\",{attrs:{label:\"etd时间\",\"label-width\":e.formLabelWidth,prop:\"etdDays\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.dataForm.etdDays,callback:function(t){e.$set(e.dataForm,\"etdDays\",e._n(\"string\"===typeof t?t.trim():t))},expression:\"dataForm.etdDays\"}})],1),a(\"el-form-item\",{attrs:{label:\"指定航名航次\",\"label-width\":e.formLabelWidth,prop:\"isNeedLineName\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isNeedLineName,callback:function(t){e.$set(e.dataForm,\"isNeedLineName\",t)},expression:\"dataForm.isNeedLineName\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isNeedLineName,callback:function(t){e.$set(e.dataForm,\"isNeedLineName\",t)},expression:\"dataForm.isNeedLineName\"}},[e._v(\"否\")])],1),e.dataForm.isNeedLineName?a(\"el-form-item\",{attrs:{label:\"航名\",\"label-width\":e.formLabelWidth,prop:\"vesselName\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.dataForm.vesselName,callback:function(t){e.$set(e.dataForm,\"vesselName\",t)},expression:\"dataForm.vesselName\"}})],1):e._e(),e.dataForm.isNeedLineName?a(\"el-form-item\",{attrs:{label:\"航次\",\"label-width\":e.formLabelWidth,prop:\"voyage\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.dataForm.voyage,callback:function(t){e.$set(e.dataForm,\"voyage\",t)},expression:\"dataForm.voyage\"}})],1):e._e(),a(\"el-form-item\",{attrs:{label:\"指定航线代码\",\"label-width\":e.formLabelWidth,prop:\"isNeedSupplierName\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isNeedSupplierName,callback:function(t){e.$set(e.dataForm,\"isNeedSupplierName\",t)},expression:\"dataForm.isNeedSupplierName\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isNeedSupplierName,callback:function(t){e.$set(e.dataForm,\"isNeedSupplierName\",t)},expression:\"dataForm.isNeedSupplierName\"}},[e._v(\"否\")])],1),e.dataForm.isNeedSupplierName?a(\"el-form-item\",{attrs:{label:\"航线代码\",\"label-width\":e.formLabelWidth,prop:\"supplierName\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.dataForm.supplierName,callback:function(t){e.$set(e.dataForm,\"supplierName\",t)},expression:\"dataForm.supplierName\"}})],1):e._e(),a(\"el-form-item\",{attrs:{label:\"使用代理\",\"label-width\":e.formLabelWidth,prop:\"isProxy\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isProxy,callback:function(t){e.$set(e.dataForm,\"isProxy\",t)},expression:\"dataForm.isProxy\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isProxy,callback:function(t){e.$set(e.dataForm,\"isProxy\",t)},expression:\"dataForm.isProxy\"}},[e._v(\"否\")])],1),a(\"el-form-item\",{attrs:{label:\"填写收货人\",\"label-width\":e.formLabelWidth,prop:\"brokerageAddress\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isNeedConsigneeAddress,callback:function(t){e.$set(e.dataForm,\"isNeedConsigneeAddress\",t)},expression:\"dataForm.isNeedConsigneeAddress\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isNeedConsigneeAddress,callback:function(t){e.$set(e.dataForm,\"isNeedConsigneeAddress\",t)},expression:\"dataForm.isNeedConsigneeAddress\"}},[e._v(\"否\")])],1),e.dataForm.isNeedConsigneeAddress?a(\"el-form-item\",{attrs:{label:\"收货人\",\"label-width\":e.formLabelWidth,prop:\"consigneeAddress.singleLine\"}},[a(\"el-select\",{attrs:{change:\"\",multiple:!1,filterable:\"\",remote:\"\",\"reserve-keyword\":\"\",placeholder:\"请输入关键词\",\"remote-method\":e.consigneeMethod,loading:e.selectConsignee.loading},model:{value:e.dataForm.consigneeAddress.companyName,callback:function(t){e.$set(e.dataForm.consigneeAddress,\"companyName\",t)},expression:\"dataForm.consigneeAddress.companyName\"}},e._l(e.selectConsignee.options,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.companyName}})})),1)],1):e._e(),a(\"el-form-item\",{attrs:{label:\"填写通知人\",\"label-width\":e.formLabelWidth,prop:\"brokerageAddress\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isNeedNotifyAddress,callback:function(t){e.$set(e.dataForm,\"isNeedNotifyAddress\",t)},expression:\"dataForm.isNeedNotifyAddress\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isNeedNotifyAddress,callback:function(t){e.$set(e.dataForm,\"isNeedNotifyAddress\",t)},expression:\"dataForm.isNeedNotifyAddress\"}},[e._v(\"否\")])],1),e.dataForm.isNeedNotifyAddress?a(\"el-form-item\",{attrs:{label:\"通知人\",\"label-width\":e.formLabelWidth,prop:\"notifyAddress.singleLine\"}},[a(\"el-select\",{attrs:{change:\"\",multiple:!1,filterable:\"\",remote:\"\",\"reserve-keyword\":\"\",placeholder:\"请输入关键词\",\"remote-method\":e.notifyMethod,loading:this.selectNotify.loading},model:{value:e.dataForm.notifyAddress.companyName,callback:function(t){e.$set(e.dataForm.notifyAddress,\"companyName\",t)},expression:\"dataForm.notifyAddress.companyName\"}},e._l(this.selectNotify.options,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.companyName}})})),1)],1):e._e(),a(\"el-form-item\",{attrs:{label:\"货运代理\",\"label-width\":e.formLabelWidth,prop:\"brokerageAddress\"}},[a(\"el-radio\",{attrs:{label:!0},model:{value:e.dataForm.isNeedBrokerageAddress,callback:function(t){e.$set(e.dataForm,\"isNeedBrokerageAddress\",t)},expression:\"dataForm.isNeedBrokerageAddress\"}},[e._v(\"是\")]),a(\"el-radio\",{attrs:{label:!1},model:{value:e.dataForm.isNeedBrokerageAddress,callback:function(t){e.$set(e.dataForm,\"isNeedBrokerageAddress\",t)},expression:\"dataForm.isNeedBrokerageAddress\"}},[e._v(\"否\")])],1),a(\"el-form-item\",{attrs:{label:\"scac\",\"label-width\":e.formLabelWidth,prop:\"scac\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.dataForm.scac,callback:function(t){e.$set(e.dataForm,\"scac\",t)},expression:\"dataForm.scac\"}},e._l(e.scacType,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"下单间隔时间\",\"label-width\":e.formLabelWidth,prop:\"orderSleepTime\"}},[a(\"el-input-number\",{attrs:{min:0,max:10,label:\"下单间隔时间\"},model:{value:e.dataForm.orderSleepTime,callback:function(t){e.$set(e.dataForm,\"orderSleepTime\",e._n(t))},expression:\"dataForm.orderSleepTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"可接受最大价格\",\"label-width\":e.formLabelWidth,prop:\"price\"}},[a(\"el-input-number\",{attrs:{min:0,max:99999},model:{value:e.dataForm.price,callback:function(t){e.$set(e.dataForm,\"price\",e._n(t))},expression:\"dataForm.price\"}})],1),a(\"el-form-item\",{attrs:{label:\"重量\",\"label-width\":e.formLabelWidth,prop:\"weight\"}},[a(\"el-input-number\",{attrs:{min:0,max:99999},model:{value:e.dataForm.weight,callback:function(t){e.$set(e.dataForm,\"weight\",t)},expression:\"dataForm.weight\"}})],1),a(\"el-form-item\",{attrs:{label:\"小提单号\",\"label-width\":e.formLabelWidth,prop:\"references\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.dataForm.references,callback:function(t){e.$set(e.dataForm,\"references\",\"string\"===typeof t?t.trim():t)},expression:\"dataForm.references\"}})],1),a(\"el-form-item\",{attrs:{label:\"账号\",\"label-width\":e.formLabelWidth,prop:\"account\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.dataForm.account,callback:function(t){e.$set(e.dataForm,\"account\",t)},expression:\"dataForm.account\"}},e._l(e.accountType,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{prop:\"cronExpression\",label:e.$t(\"schedule.cronExpression\")}},[a(\"el-popover\",{model:{value:e.cronPopover,callback:function(t){e.cronPopover=t},expression:\"cronPopover\"}},[a(\"cron\",{attrs:{i18n:\"cn\"},on:{change:e.changeCron,close:function(t){e.cronPopover=!1}}}),a(\"el-input\",{attrs:{slot:\"reference\",placeholder:e.$t(\"schedule.cronExpressionTips\")},on:{click:function(t){e.cronPopover=!0}},slot:\"reference\",model:{value:e.dataForm.cronExpression,callback:function(t){e.$set(e.dataForm,\"cronExpression\",t)},expression:\"dataForm.cronExpression\"}})],1)],1),a(\"el-form-item\",{attrs:{prop:\"remark\",label:e.$t(\"schedule.remark\")}},[a(\"el-input\",{attrs:{placeholder:e.$t(\"schedule.remark\")},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,\"remark\",t)},expression:\"dataForm.remark\"}})],1)],1),a(\"template\",{slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t(\"cancel\")))]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.dataFormSubmitHandle()}}},[e._v(e._s(e.$t(\"confirm\")))])],1)],2)},r=[],l=(a(\"4160\"),a(\"159b\"),a(\"b047\")),i=a.n(l),s=a(\"117d\"),n=a(\"b775\");function d(e,t){return Object(n[\"a\"])({url:\"/one/startPort\",method:\"GET\",params:{authorization:e,startPort:t}})}function m(e,t,a){return Object(n[\"a\"])({url:\"/one/endPort\",method:\"GET\",params:{authorization:t,matched:e.matched,matchedCountry:e.matchedCountry,mode:e.mode,query:a}})}function c(e,t){return Object(n[\"a\"])({url:\"/one/addresses\",method:\"GET\",params:{authorization:e,query:t}})}var u={data:function(){return{selectFrom:{options:[],value:[],list:[],loading:!1},selectTo:{options:[],value:[],list:[],loading:!1},selectConsignee:{options:[],value:[],list:[],loading:!1},selectNotify:{options:[],value:[],list:[],loading:!1},visible:!1,accountType:[{value:0,label:\"环集美线\"},{value:1,label:\"泰博美线\"},{value:2,label:\"附属账号\"}],equipmentType:[{value:\"22G1\",label:\"DRY 20\"},{value:\"42G1\",label:\"DRY 40\"},{value:\"45G1\",label:\"DRY 40H\"},{value:\"L5G1\",label:\"DRY 45H\"},{value:\"45RD\",label:\"Reefer DRY 40H\"}],scacType:[{value:\"HSCP\",label:\"环集账号SCAC(HSCP)\"},{value:\"MFID\",label:\"泰博账号SCAC(MFID)\"},{value:\"NSIJ\",label:\"环集附属账号SCAC(NSIJ)\"}],dataForm:{beanName:\"\".concat(this.$route.params.crawlerName),params:\"{}\",cronExpression:\"0/5 * * * * ? *\",remark:\"\",status:0,account:0,startPort:{iata:\"\",matched:\"\",matchedCountry:\"\",mode:\"\",unCode:\"\",id:\"\"},endPort:{id:\"\",fmc:!0,iata:\"\",matched:\"\",matchedCountry:\"\",mode:\"\",unCode:\"\"},notifyAddress:{address1:\"\",cityTown:\"\",companyName:\"\",country:\"\",firstName:\"\",id:\"\",lastName:\"\",phone:\"\",singleLine:\"\",vatNo:\"\",postCode:\"\"},consigneeAddress:{address1:\"\",cityTown:\"\",companyName:\"\",country:\"\",firstName:\"\",id:\"\",lastName:\"\",phone:\"\",singleLine:\"\",vatNo:\"\",postCode:\"\"},isNeedBrokerageAddress:!1,isNeedNotifyAddress:!1,isNeedConsigneeAddress:!1,etdDays:0,isProxy:!1,isNeedLineName:!1,isNeedSupplierName:!1,equipment:\"\",quantity:1,vesselName:\"\",voyage:\"\",supplierName:\"\",orderSleepTime:0,authorization:\"\",references:\"\",scac:\"\",price:0,weight:16e3,type:0},cronPopover:!1,dialogTableVisible:!1,dialogFormVisible:!1,formLabelWidth:\"120px\"}},components:{cron:s[\"cron\"]},computed:{dataRule:function(){return{beanName:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],cronExpression:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],authorization:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],references:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],equipment:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],scac:[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],\"startPort.matched\":[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}],\"endPort.matched\":[{required:!0,message:this.$t(\"validate.required\"),trigger:\"blur\"}]}}},watch:{\"dataForm.endPort.matched\":{deep:!0,handler:function(e,t){var a=this;this.selectTo.options.forEach((function(t){t.matched===e&&(a.dataForm.endPort=t)}))}},\"dataForm.startPort.matched\":{deep:!0,handler:function(e,t){var a=this;this.selectTo.options.forEach((function(t){t.matched===e&&(a.dataForm.endPort=t)}))}},\"dataForm.notifyAddress.companyName\":{deep:!0,handler:function(e,t){var a=this;this.selectNotify.options.forEach((function(t){t.companyName===e&&(a.dataForm.notifyAddress=t)}))}},\"dataForm.consigneeAddress.companyName\":{deep:!0,handler:function(e,t){var a=this;this.selectConsignee.options.forEach((function(t){t.companyName===e&&(a.dataForm.consigneeAddress=t)}))}}},methods:{fromMethod:function(e){var t=this;\"\"!==e?(this.selectFrom.loading=!0,setTimeout((function(){t.selectFrom.loading=!1,d(t.dataForm.authorization,e).then((function(e){\"\"===e.data&&alert(\"身份码失效 暂无数据\"),t.selectFrom.list=e.data.location||[],t.selectFrom.options=t.selectFrom.list}))}),100)):this.selectFrom.options=[]},toMethod:function(e){var t=this;\"\"!==e?(this.selectTo.loading=!0,this.selectFrom.options.forEach((function(e){e.matched===t.dataForm.startPort.matched&&(t.dataForm.startPort=e)})),setTimeout((function(){t.selectTo.loading=!1,m(t.dataForm.startPort,t.dataForm.authorization,e).then((function(e){t.selectTo.list=e.data.location||[],t.selectTo.options=t.selectTo.list}))}),100)):this.selectTo.options=[]},notifyMethod:function(e){var t=this;\"\"!==e?(this.selectNotify.loading=!0,setTimeout((function(){t.selectNotify.loading=!1,c(t.dataForm.authorization,e).then((function(e){t.selectNotify.list=e.data.address||[],t.selectNotify.options=t.selectNotify.list}))}),100)):this.selectNotify.options=[]},consigneeMethod:function(e){var t=this;\"\"!==e?(this.selectConsignee.loading=!0,setTimeout((function(){t.selectConsignee.loading=!1,c(t.dataForm.authorization,e).then((function(e){t.selectConsignee.list=e.data.address||[],t.selectConsignee.options=t.selectConsignee.list}))}),100)):this.selectConsignee.options=[]},init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.dataForm.resetFields(),e.dataForm.id&&e.getInfo()}))},changeCron:function(e){this.dataForm.cronExpression=e},getInfo:function(){var e=this;this.$http.get(\"/sys/schedule/\".concat(this.dataForm.id)).then((function(t){var a=t.data;if(0!==a.code)return e.$message.error(a.msg);e.dataForm=a.data,e.form=JSON.parse(a.data.params)})).catch((function(){}))},dataFormSubmitHandle:i()((function(){var e=this;this.$refs.dataForm.validate((function(t){if(!t)return!1;var a={tag:\"one\",data:JSON.stringify(e.dataForm)};e.$http[e.dataForm.id?\"put\":\"post\"](\"/sys/schedule\",a).then((function(t){var a=t.data;if(0!==a.code)return e.$message.error(a.msg);e.$message({message:e.$t(\"prompt.success\"),type:\"success\",duration:500,onClose:function(){e.visible=!1,e.$emit(\"refreshDataList\")}})})).catch((function(){}))}))}),1e3,{leading:!0,trailing:!1})}},p=u,f=a(\"2877\"),h=Object(f[\"a\"])(p,o,r,!1,null,null,null);t[\"default\"]=h.exports}}]);","extractedComments":[]}