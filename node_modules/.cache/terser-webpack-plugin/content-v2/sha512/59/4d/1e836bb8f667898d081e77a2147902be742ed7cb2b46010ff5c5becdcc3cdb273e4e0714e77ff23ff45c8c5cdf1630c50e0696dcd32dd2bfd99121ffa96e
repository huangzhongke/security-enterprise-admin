{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-657a7a59\"],{5536:function(e,t,a){\"use strict\";a(\"99af\"),a(\"4de4\"),a(\"b0c0\");var s=a(\"5530\"),r=a(\"a18c\");t[\"a\"]={data:function(){return{processVisible:!1}},methods:{initProcessMultiple:function(e){var t=this,a=this.$route.params.processShowType;this.processVisible=!0,this.$nextTick((function(){t.$route.params.processDefinitionKey&&(t.$refs.renProcessMultiple.dataForm.processDefinitionKey=t.$route.params.processDefinitionKey),t.$route.params.taskId&&(t.$refs.renProcessMultiple.dataForm.taskId=t.$route.params.taskId),t.$route.params.processInstanceId&&(t.$refs.renProcessMultiple.dataForm.processInstanceId=t.$route.params.processInstanceId),t.$refs.renProcessMultiple.dataForm.businessKey=t.$route.params.businessKey,t.$refs.renProcessMultiple.showType=a,t.$refs.renProcessMultiple.parentObj=t,t.$refs.renProcessMultiple.callbacks=e}))},closeCurrentTab:function(e){var t=this.$store.state.contentTabsActiveName;if(this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return e.name!==t})),this.$store.state.contentTabs.length<=0)return this.$store.state.sidebarMenuActiveName=this.$store.state.contentTabsActiveName=\"home\",!1;t===this.$store.state.contentTabsActiveName&&this.$router.push({name:this.$store.state.contentTabs[this.$store.state.contentTabs.length-1].name})},getProcDefRouteSet:function(e,t){var a=this;this.$http.get(\"/act/process/getProcDefBizRoute/\".concat(e.processDefinitionId)).then((function(r){var n=r.data;if(0!==n.code)return a.$message.error(n.msg);if(!n.data||!n.data.bizRoute)return a.$message.error(a.$t(\"process.routeError\"));var o=Object(s[\"a\"])(Object(s[\"a\"])({},e),n.data);t(o)})).catch((function(){}))},getProcDefBizRouteAndProcessInstance:function(e,t){var a=this;this.$http.get(\"/act/process/getProcDefBizRouteAndProcessInstance\",{params:e}).then((function(r){var n=r.data;if(0!==n.code)return a.$message.error(n.msg);if(!n.data||!n.data.bizRoute)return a.$message.error(a.$t(\"process.routeError\"));var o=Object(s[\"a\"])(Object(s[\"a\"])({},e),n.data);t(o)})).catch((function(){}))},getLatestProcDefRouteSet:function(e,t){var a=this;this.$http.get(\"/act/process/getLatestProcDefBizRoute\",{params:{procDefKey:e}}).then((function(r){var n=r.data;if(0!==n.code)return a.$message.error(n.msg);if(!n.data||!n.data.bizRoute)return a.$message.error(a.$t(\"process.routeError\"));var o=Object(s[\"a\"])({procDefKey:e},n.data);t(o)})).catch((function(){}))},forwardDetail:function(e){var t={routeName:\"\".concat(this.$route.name,\"__detail_\").concat(e.processInstanceId),menuId:\"\".concat(this.$route.meta.menuId),title:\"\".concat(this.$route.meta.title,\" - \").concat(e.processDefinitionName),path:e.bizRoute,params:{processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(r[\"a\"])(t,this.$router)},forwardTaskDetail:function(e){var t={routeName:\"\".concat(this.$route.name,\"__detail_\").concat(e.taskId),menuId:\"\".concat(this.$route.meta.menuId),title:\"\".concat(this.$route.meta.title,\" - \").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(r[\"a\"])(t,this.$router)},forwardHandleUrl:function(e){var t={routeName:\"\".concat(this.$route.name,\"__handle_\").concat(e.taskId),menuId:\"\".concat(this.$route.meta.menuId),title:\"\".concat(this.$route.meta.title,\" - \").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,processShowType:\"taskHandle\",businessKey:e.businessKey}};Object(r[\"a\"])(t,this.$router)}}}},b2ad:function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-card\",{staticClass:\"aui-card--fill\",attrs:{shadow:\"never\"}},[a(\"div\",{staticClass:\"mod-activiti__process\"},[a(\"el-form\",{attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.getDataList()}}},[a(\"el-form-item\",[a(\"el-input\",{attrs:{placeholder:e.$t(\"process.name\"),clearable:\"\"},model:{value:e.dataForm.taskName,callback:function(t){e.$set(e.dataForm,\"taskName\",t)},expression:\"dataForm.taskName\"}})],1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){return e.getDataList()}}},[e._v(e._s(e.$t(\"query\")))])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.dataListLoading,expression:\"dataListLoading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.dataList,border:\"\"},on:{\"selection-change\":e.dataListSelectionChangeHandle,\"sort-change\":e.dataListSortChangeHandle}},[a(\"el-table-column\",{attrs:{type:\"selection\",\"header-align\":\"center\",align:\"center\",width:\"50\"}}),a(\"el-table-column\",{attrs:{prop:\"businessKey\",label:e.$t(\"process.businessKey\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"processInstanceId\",label:e.$t(\"running.id\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"processDefinitionName\",label:e.$t(\"process.processDefinitionName\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"startTime\",label:e.$t(\"process.startTime\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"taskName\",label:e.$t(\"process.taskName\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"createTime\",label:e.$t(\"process.createTime\"),\"header-align\":\"center\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:e.$t(\"handle\"),fixed:\"right\",\"header-align\":\"center\",align:\"center\",width:\"150\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return e.claimTask(t.row.taskId,t.row.processDefinitionKey,t.row.businessKey)}}},[e._v(e._s(e.$t(\"process.claim\")))]),a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(e.$t(\"process.viewFlowImage\")))])]}}])})],1),a(\"el-pagination\",{attrs:{\"current-page\":e.page,\"page-sizes\":[10,20,50,100],\"page-size\":e.limit,total:e.total,layout:\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":e.pageSizeChangeHandle,\"current-change\":e.pageCurrentChangeHandle}})],1)])},r=[],n=a(\"e1a5\"),o=a(\"5536\"),i=a(\"4328\"),c=a.n(i),l={mixins:[n[\"a\"],o[\"a\"]],data:function(){return{mixinViewModuleOptions:{getDataListURL:\"/act/task/page\",getDataListIsPage:!0,deleteIsBatch:!0,deleteIsBatchKey:\"deploymentId\"},dataForm:{isRoleGroup:\"1\",taskName:\"\"}}},components:{},methods:{claimTask:function(e,t,a){var s=this,r=c.a.stringify({taskId:e});this.$http.post(\"/act/task/claim\",r).then((function(e){var t=e.data;if(0!==t.code)return s.$message.error(t.msg);s.$message({message:s.$t(\"prompt.success\"),type:\"success\",duration:500,onClose:function(){s.getDataList()}})})).catch((function(){}))},showDetail:function(e){if(!e.businessKey)return this.$message.error(this.$t(\"task.detailError\"));this.getProcDefRouteSet(e,this.forwardDetail)}}},u=l,d=a(\"2877\"),p=Object(d[\"a\"])(u,s,r,!1,null,null,null);t[\"default\"]=p.exports}}]);","extractedComments":[]}