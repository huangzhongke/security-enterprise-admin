{"remainingRequest":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main.vue","mtime":1595727761901},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY29kZVNwYWNlL3NlY3VyaXR5LWVudGVycHJpc2UtRnJvbnRCYWNrU3BsaXRfMi43LjAvc2VjdXJpdHktZW50ZXJwcmlzZS0yLjcuMC9zZWN1cml0eS1lbnRlcnByaXNlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1haW5OYXZiYXIgZnJvbSAnLi9tYWluLW5hdmJhcic7CmltcG9ydCBNYWluU2lkZWJhciBmcm9tICcuL21haW4tc2lkZWJhcic7CmltcG9ydCBNYWluQ29udGVudCBmcm9tICcuL21haW4tY29udGVudCc7CmltcG9ydCBNYWluVGhlbWVUb29scyBmcm9tICcuL21haW4tdGhlbWUtdG9vbHMnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDliLfmlrAKICAgICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50SXNOZWVkUmVmcmVzaCA9IHRydWU7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRJc05lZWRSZWZyZXNoID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1haW5OYXZiYXI6IE1haW5OYXZiYXIsCiAgICBNYWluU2lkZWJhcjogTWFpblNpZGViYXIsCiAgICBNYWluQ29udGVudDogTWFpbkNvbnRlbnQsCiAgICBNYWluVGhlbWVUb29sczogTWFpblRoZW1lVG9vbHMKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6ICdyb3V0ZUhhbmRsZScKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLndpbmRvd1Jlc2l6ZUhhbmRsZSgpOwogICAgdGhpcy5yb3V0ZUhhbmRsZSh0aGlzLiRyb3V0ZSk7CiAgICBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldFBlcm1pc3Npb25zKCldKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g56qX5Y+j5pS55Y+Y5aSn5bCPCiAgICB3aW5kb3dSZXNpemVIYW5kbGU6IGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZUhhbmRsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zaWRlYmFyRm9sZCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsnY2xpZW50V2lkdGgnXSA8PSA5OTIgfHwgZmFsc2U7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRzdG9yZS5zdGF0ZS5zaWRlYmFyRm9sZCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsnY2xpZW50V2lkdGgnXSA8PSA5OTIgfHwgZmFsc2U7CiAgICAgIH0sIDE1MCkpOwogICAgfSwKICAgIC8vIOi3r+eUsSwg55uR5ZCsCiAgICByb3V0ZUhhbmRsZTogZnVuY3Rpb24gcm91dGVIYW5kbGUocm91dGUpIHsKICAgICAgaWYgKCFyb3V0ZS5tZXRhLmlzVGFiKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgdGFiID0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gcm91dGUubmFtZTsKICAgICAgfSlbMF07CgogICAgICBpZiAoIXRhYikgewogICAgICAgIHRhYiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB3aW5kb3cuU0lURV9DT05GSUdbJ2NvbnRlbnRUYWJEZWZhdWx0J10pLCByb3V0ZS5tZXRhKSwge30sIHsKICAgICAgICAgICduYW1lJzogcm91dGUubmFtZSwKICAgICAgICAgICdwYXJhbXMnOiBfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZS5wYXJhbXMpLAogICAgICAgICAgJ3F1ZXJ5JzogX29iamVjdFNwcmVhZCh7fSwgcm91dGUucXVlcnkpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicy5jb25jYXQodGFiKTsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2lkZWJhck1lbnVBY3RpdmVOYW1lID0gdGFiLm1lbnVJZDsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnNBY3RpdmVOYW1lID0gdGFiLm5hbWU7CiAgICB9LAogICAgLy8g6I635Y+W5b2T5YmN566h55CG5ZGY5L+h5oGvCiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KCcvc3lzL3VzZXIvaW5mbycpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgcmVzID0gX3JlZi5kYXRhOwoKICAgICAgICBpZiAocmVzLmNvZGUgIT09IDApIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczQuJHN0b3JlLnN0YXRlLnVzZXIuaWQgPSByZXMuZGF0YS5pZDsKICAgICAgICBfdGhpczQuJHN0b3JlLnN0YXRlLnVzZXIubmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lOwogICAgICAgIF90aGlzNC4kc3RvcmUuc3RhdGUudXNlci5zdXBlckFkbWluID0gcmVzLmRhdGEuc3VwZXJBZG1pbjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8vIOiOt+WPluadg+mZkAogICAgZ2V0UGVybWlzc2lvbnM6IGZ1bmN0aW9uIGdldFBlcm1pc3Npb25zKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3N5cy9tZW51L3Blcm1pc3Npb25zJykudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgcmVzID0gX3JlZjIuZGF0YTsKCiAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KCiAgICAgICAgd2luZG93LlNJVEVfQ09ORklHWydwZXJtaXNzaW9ucyddID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-loading.fullscreen.lock=\"loading\" :element-loading-text=\"$t('loading')\" :class=\"['aui-wrapper', { 'aui-sidebar--fold': $store.state.sidebarFold }]\">\n    <template v-if=\"!loading\">\n      <main-navbar />\n      <main-sidebar />\n      <div class=\"aui-content__wrapper\">\n        <main-content v-if=\"!$store.state.contentIsNeedRefresh\" />\n      </div>\n      <main-theme-tools />\n    </template>\n  </div>\n</template>\n\n<script>\nimport MainNavbar from './main-navbar'\nimport MainSidebar from './main-sidebar'\nimport MainContent from './main-content'\nimport MainThemeTools from './main-theme-tools'\nimport debounce from 'lodash/debounce'\nexport default {\n  provide () {\n    return {\n      // 刷新\n      refresh () {\n        this.$store.state.contentIsNeedRefresh = true\n        this.$nextTick(() => {\n          this.$store.state.contentIsNeedRefresh = false\n        })\n      }\n    }\n  },\n  data () {\n    return {\n      loading: true\n    }\n  },\n  components: {\n    MainNavbar,\n    MainSidebar,\n    MainContent,\n    MainThemeTools\n  },\n  watch: {\n    $route: 'routeHandle'\n  },\n  created () {\n    this.windowResizeHandle()\n    this.routeHandle(this.$route)\n    Promise.all([\n      this.getUserInfo(),\n      this.getPermissions()\n    ]).then(() => {\n      this.loading = false\n    })\n  },\n  methods: {\n    // 窗口改变大小\n    windowResizeHandle () {\n      this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\n      window.addEventListener('resize', debounce(() => {\n        this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\n      }, 150))\n    },\n    // 路由, 监听\n    routeHandle (route) {\n      if (!route.meta.isTab) {\n        return false\n      }\n      var tab = this.$store.state.contentTabs.filter(item => item.name === route.name)[0]\n      if (!tab) {\n        tab = {\n          ...window.SITE_CONFIG['contentTabDefault'],\n          ...route.meta,\n          'name': route.name,\n          'params': { ...route.params },\n          'query': { ...route.query }\n        }\n        this.$store.state.contentTabs = this.$store.state.contentTabs.concat(tab)\n      }\n      this.$store.state.sidebarMenuActiveName = tab.menuId\n      this.$store.state.contentTabsActiveName = tab.name\n    },\n    // 获取当前管理员信息\n    getUserInfo () {\n      return this.$http.get('/sys/user/info').then(({ data: res }) => {\n        if (res.code !== 0) {\n          return this.$message.error(res.msg)\n        }\n        this.$store.state.user.id = res.data.id\n        this.$store.state.user.name = res.data.username\n        this.$store.state.user.superAdmin = res.data.superAdmin\n      }).catch(() => {})\n    },\n    // 获取权限\n    getPermissions () {\n      return this.$http.get('/sys/menu/permissions').then(({ data: res }) => {\n        if (res.code !== 0) {\n          return this.$message.error(res.msg)\n        }\n        window.SITE_CONFIG['permissions'] = res.data\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}