{"remainingRequest":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main-navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main-navbar.vue","mtime":1595727761900},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1lc3NhZ2VzIH0gZnJvbSAnQC9pMThuJzsKaW1wb3J0IHNjcmVlbmZ1bGwgZnJvbSAnc2NyZWVuZnVsbCc7CmltcG9ydCBVcGRhdGVQYXNzd29yZCBmcm9tICcuL21haW4tbmF2YmFyLXVwZGF0ZS1wYXNzd29yZCc7CmltcG9ydCB7IGNsZWFyTG9naW5JbmZvIH0gZnJvbSAnQC91dGlscyc7CnZhciBzb2NrZXQgPSBudWxsOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3JlZnJlc2gnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaTE4bk1lc3NhZ2VzOiBtZXNzYWdlcywKICAgICAgdXBkYXRlUGFzc3dvcmRWaXNpYmxlOiBmYWxzZSwKICAgICAgbWVzc2FnZVRpcDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBVcGRhdGVQYXNzd29yZDogVXBkYXRlUGFzc3dvcmQKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgdnVlID0gdGhpczsKICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoIiIuY29uY2F0KHdpbmRvdy5TSVRFX0NPTkZJR1snc29ja2V0VVJMJ10pKTsKCiAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge307CgogICAgc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZ1ZS4kbm90aWZ5LmVycm9yKHsKICAgICAgICB0aXRsZTogdnVlLiR0KCdub3RpY2UuZGlzY29ubmVjdCcpLAogICAgICAgIG1lc3NhZ2U6IHZ1ZS4kdCgnbm90aWNlLmRpc2Nvbm5lY3RNZXNzYWdlJykKICAgICAgfSk7CiAgICB9OwoKICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGV2dC5kYXRhKTsgLy8g5aaC5p6c5piv5pyJ5paw5paH5pys6YCa55+l77yM5YiZ5o+Q56S65pyJ5paw6YCa55+lCgogICAgICBpZiAocmVzdWx0LnR5cGUgPT09IDApIHsKICAgICAgICB2dWUubWVzc2FnZVRpcCA9IHRydWU7CiAgICAgICAgdnVlLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6IHZ1ZS4kdCgnbm90aWNlLm5ldycpLAogICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1zZywKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07IC8vIOacquivu+mAmuefpeaVsAoKCiAgICB0aGlzLmdldFVuUmVhZENvdW50KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBteU5vdGljZVJvdXRlcjogZnVuY3Rpb24gbXlOb3RpY2VSb3V0ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCdub3RpY2Utbm90aWNlLXVzZXInKTsKICAgIH0sCiAgICBnZXRVblJlYWRDb3VudDogZnVuY3Rpb24gZ2V0VW5SZWFkQ291bnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiL3N5cy9ub3RpY2UvbXlub3RpY2UvdW5yZWFkIikudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciByZXMgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChyZXMuY29kZSAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5kYXRhID4gMCkgewogICAgICAgICAgX3RoaXMubWVzc2FnZVRpcCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy8g5YWo5bGPCiAgICBmdWxsc2NyZWVuSGFuZGxlOiBmdW5jdGlvbiBmdWxsc2NyZWVuSGFuZGxlKCkgewogICAgICBpZiAoIXNjcmVlbmZ1bGwuZW5hYmxlZCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Z1bGxzY3JlZW4ucHJvbXB0JyksCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHNjcmVlbmZ1bGwudG9nZ2xlKCk7CiAgICB9LAogICAgLy8g5L+u5pS55a+G56CBCiAgICB1cGRhdGVQYXNzd29yZEhhbmRsZTogZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmRIYW5kbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy51cGRhdGVQYXNzd29yZFZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzLnVwZGF0ZVBhc3N3b3JkLmluaXQoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCA5Ye6CiAgICBsb2dvdXRIYW5kbGU6IGZ1bmN0aW9uIGxvZ291dEhhbmRsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKHRoaXMuJHQoJ3Byb21wdC5pbmZvJywgewogICAgICAgICdoYW5kbGUnOiB0aGlzLiR0KCdsb2dvdXQnKQogICAgICB9KSwgdGhpcy4kdCgncHJvbXB0LnRpdGxlJyksIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgnY29uZmlybScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMuJHQoJ2NhbmNlbCcpLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGh0dHAucG9zdCgnL2xvZ291dCcpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgcmVzID0gX3JlZjIuZGF0YTsKCiAgICAgICAgICBpZiAocmVzLmNvZGUgIT09IDApIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjbGVhckxvZ2luSW5mbygpOwoKICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnbG9naW4nCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["main-navbar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <nav class=\"aui-navbar\" :class=\"`aui-navbar--${$store.state.navbarLayoutType}`\">\n    <div class=\"aui-navbar__header\">\n      <h1 class=\"aui-navbar__brand\" @click=\"$router.push({ name: 'home' })\">\n        <a class=\"aui-navbar__brand-lg\" href=\"javascript:;\">{{ $t('brand.lg') }}</a>\n        <a class=\"aui-navbar__brand-mini\" href=\"javascript:;\">{{ $t('brand.mini') }}</a>\n      </h1>\n    </div>\n    <div class=\"aui-navbar__body\">\n      <el-menu class=\"aui-navbar__menu mr-auto\" mode=\"horizontal\">\n        <el-menu-item index=\"1\" @click=\"$store.state.sidebarFold = !$store.state.sidebarFold\">\n          <svg class=\"icon-svg aui-navbar__icon-menu aui-navbar__icon-menu--switch\" aria-hidden=\"true\"><use xlink:href=\"#icon-outdent\"></use></svg>\n        </el-menu-item>\n        <el-menu-item index=\"2\" @click=\"refresh()\">\n          <svg class=\"icon-svg aui-navbar__icon-menu aui-navbar__icon-menu--refresh\" aria-hidden=\"true\"><use xlink:href=\"#icon-sync\"></use></svg>\n        </el-menu-item>\n      </el-menu>\n      <el-menu class=\"aui-navbar__menu\" mode=\"horizontal\">\n        <el-menu-item index=\"1\">\n          <el-dropdown placement=\"bottom\" :show-timeout=\"0\">\n            <el-button size=\"mini\">{{ $t('_lang') }}</el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item v-for=\"(val, key) in i18nMessages\" :key=\"key\" @click.native=\"$i18n.locale = key\">{{ val._lang }}</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-menu-item>\n        <el-menu-item index=\"2\">\n          <a href=\"//www.renren.io/\" target=\"_blank\">\n            <svg class=\"icon-svg aui-navbar__icon-menu\" aria-hidden=\"true\"><use xlink:href=\"#icon-earth\"></use></svg>\n          </a>\n        </el-menu-item>\n        <el-menu-item index=\"3\" v-if=\"$hasPermission('sys:notice:all')\">\n          <el-badge :is-dot=\"messageTip\">\n            <a href=\"#\"  @click=\"myNoticeRouter()\"><i class=\"el-icon-bell\"></i></a>\n          </el-badge>\n        </el-menu-item>\n        <el-menu-item index=\"4\" @click=\"fullscreenHandle()\">\n          <svg class=\"icon-svg aui-navbar__icon-menu\" aria-hidden=\"true\"><use xlink:href=\"#icon-fullscreen\"></use></svg>\n        </el-menu-item>\n        <el-menu-item index=\"5\" class=\"aui-navbar__avatar\">\n          <el-dropdown placement=\"bottom\" :show-timeout=\"0\">\n            <span class=\"el-dropdown-link\">\n              <img src=\"~@/assets/img/avatar.png\">\n              <span>{{ $store.state.user.name }}</span>\n              <i class=\"el-icon-arrow-down\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"updatePasswordHandle()\">{{ $t('updatePassword.title') }}</el-dropdown-item>\n              <el-dropdown-item @click.native=\"logoutHandle()\">{{ $t('logout') }}</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <!-- 弹窗, 修改密码 -->\n    <update-password v-if=\"updatePasswordVisible\" ref=\"updatePassword\"></update-password>\n  </nav>\n</template>\n<script>\nimport { messages } from '@/i18n'\nimport screenfull from 'screenfull'\nimport UpdatePassword from './main-navbar-update-password'\nimport { clearLoginInfo } from '@/utils'\nvar socket = null\nexport default {\n  inject: ['refresh'],\n  data () {\n    return {\n      i18nMessages: messages,\n      updatePasswordVisible: false,\n      messageTip: false\n    }\n  },\n  components: {\n    UpdatePassword\n  },\n  created () {\n    var vue = this\n    socket = new WebSocket(`${window.SITE_CONFIG['socketURL']}`)\n    socket.onopen = function () {}\n    socket.onerror = function () {\n      vue.$notify.error({\n        title: vue.$t('notice.disconnect'),\n        message: vue.$t('notice.disconnectMessage')\n      })\n    }\n    socket.onmessage = function (evt) {\n      const result = JSON.parse(evt.data)\n\n      // 如果是有新文本通知，则提示有新通知\n      if (result.type === 0) {\n        vue.messageTip = true\n        vue.$notify({\n          title: vue.$t('notice.new'),\n          message: result.msg,\n          type: 'info',\n          duration: 5000\n        })\n      }\n    }\n\n    // 未读通知数\n    this.getUnReadCount()\n  },\n  methods: {\n    myNoticeRouter () {\n      this.$router.replace('notice-notice-user')\n    },\n    getUnReadCount () {\n      this.$http.get(`/sys/notice/mynotice/unread`).then(({ data: res }) => {\n        if (res.code !== 0) {\n          return this.$message.error(res.msg)\n        }\n        if (res.data > 0) {\n          this.messageTip = true\n        }\n      }).catch(() => {})\n    },\n    // 全屏\n    fullscreenHandle () {\n      if (!screenfull.enabled) {\n        return this.$message({\n          message: this.$t('fullscreen.prompt'),\n          type: 'warning',\n          duration: 500\n        })\n      }\n      screenfull.toggle()\n    },\n    // 修改密码\n    updatePasswordHandle () {\n      this.updatePasswordVisible = true\n      this.$nextTick(() => {\n        this.$refs.updatePassword.init()\n      })\n    },\n    // 退出\n    logoutHandle () {\n      this.$confirm(this.$t('prompt.info', { 'handle': this.$t('logout') }), this.$t('prompt.title'), {\n        confirmButtonText: this.$t('confirm'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        this.$http.post('/logout').then(({ data: res }) => {\n          if (res.code !== 0) {\n            return this.$message.error(res.msg)\n          }\n          clearLoginInfo()\n          this.$router.push({ name: 'login' })\n        }).catch(() => {})\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}