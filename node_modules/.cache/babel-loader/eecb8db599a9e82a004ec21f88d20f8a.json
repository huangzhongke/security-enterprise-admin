{"remainingRequest":"E:\\frontCode\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\frontCode\\security-enterprise-admin\\src\\mixins\\process-module.js","dependencies":[{"path":"E:\\frontCode\\security-enterprise-admin\\src\\mixins\\process-module.js","mtime":1657251814326},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657251795729},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1657251794312}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkU6L2Zyb250Q29kZS9zZWN1cml0eS1lbnRlcnByaXNlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgYWRkRHluYW1pY1JvdXRlIH0gZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2Nlc3NWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMlua1geeoi+mFjee9rijpm4bmiJDlj5HotbfmtYHnqIvlkozku7vliqHlpITnkIblip/og70pCiAgICBpbml0UHJvY2Vzc011bHRpcGxlOiBmdW5jdGlvbiBpbml0UHJvY2Vzc011bHRpcGxlKGNhbGxiYWNrcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gc2hvd1R5cGUg55So5LqO5Yy65YiG5rWB56iL5ZCv5Yqo77yIc3RhcnTvvInjgIHku7vliqHlpITnkIYodGFza0hhbmRsZSnku6Xlj4rmn6XnnIvor6bmg4UobnVsbCkKICAgICAgLy8g5rWB56iL5ZCv5Yqo5pi+56S655qE5piv4oCc5rWB56iL5ZCv5Yqo4oCd5oyJ6ZKu77yM5Lu75Yqh5aSE55CG5pi+56S655qE5piv4oCc6YCa6L+H44CB5aeU5omY44CB5Zue6YCA44CB6amz5Zue44CB57uI5q2i4oCd5oyJ6ZKu77yM5p+l55yL6K+m5oOF6YO95LiN5pi+56S6CiAgICAgIHZhciBzaG93VHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wcm9jZXNzU2hvd1R5cGU7CiAgICAgIHRoaXMucHJvY2Vzc1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5wYXJhbXMucHJvY2Vzc0RlZmluaXRpb25LZXkpIHsKICAgICAgICAgIF90aGlzLiRyZWZzLnJlblByb2Nlc3NNdWx0aXBsZS5kYXRhRm9ybS5wcm9jZXNzRGVmaW5pdGlvbktleSA9IF90aGlzLiRyb3V0ZS5wYXJhbXMucHJvY2Vzc0RlZmluaXRpb25LZXk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMuJHJvdXRlLnBhcmFtcy50YXNrSWQpIHsKICAgICAgICAgIF90aGlzLiRyZWZzLnJlblByb2Nlc3NNdWx0aXBsZS5kYXRhRm9ybS50YXNrSWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLnRhc2tJZDsKICAgICAgICB9CgogICAgICAgIGlmIChfdGhpcy4kcm91dGUucGFyYW1zLnByb2Nlc3NJbnN0YW5jZUlkKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5yZW5Qcm9jZXNzTXVsdGlwbGUuZGF0YUZvcm0ucHJvY2Vzc0luc3RhbmNlSWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLnByb2Nlc3NJbnN0YW5jZUlkOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJHJlZnMucmVuUHJvY2Vzc011bHRpcGxlLmRhdGFGb3JtLmJ1c2luZXNzS2V5ID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5idXNpbmVzc0tleTsKICAgICAgICBfdGhpcy4kcmVmcy5yZW5Qcm9jZXNzTXVsdGlwbGUuc2hvd1R5cGUgPSBzaG93VHlwZTsKICAgICAgICBfdGhpcy4kcmVmcy5yZW5Qcm9jZXNzTXVsdGlwbGUucGFyZW50T2JqID0gX3RoaXM7CiAgICAgICAgX3RoaXMuJHJlZnMucmVuUHJvY2Vzc011bHRpcGxlLmNhbGxiYWNrcyA9IGNhbGxiYWNrczsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YWz6Zet5b2T5YmN56qX5Y+jCiAgICBjbG9zZUN1cnJlbnRUYWI6IGZ1bmN0aW9uIGNsb3NlQ3VycmVudFRhYihkYXRhKSB7CiAgICAgIHZhciB0YWJOYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnNBY3RpdmVOYW1lOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLm5hbWUgIT09IHRhYk5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2lkZWJhck1lbnVBY3RpdmVOYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnNBY3RpdmVOYW1lID0gJ2hvbWUnOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRhYk5hbWUgPT09IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzQWN0aXZlTmFtZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzW3RoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmxlbmd0aCAtIDFdLm5hbWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPlua1geeoi+WumuS5ieeahOihqOWNlei3r+eUsemFjee9ruS/oeaBrwogICAgZ2V0UHJvY0RlZlJvdXRlU2V0OiBmdW5jdGlvbiBnZXRQcm9jRGVmUm91dGVTZXQoZGF0YSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiL2FjdC9wcm9jZXNzL2dldFByb2NEZWZCaXpSb3V0ZS8iLmNvbmNhdChkYXRhLnByb2Nlc3NEZWZpbml0aW9uSWQpKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHJlcyA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFyZXMuZGF0YSB8fCAhcmVzLmRhdGEuYml6Um91dGUpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoX3RoaXMyLiR0KCdwcm9jZXNzLnJvdXRlRXJyb3InKSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcGFyYW0gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGEpLCByZXMuZGF0YSk7CgogICAgICAgIGNhbGxiYWNrKHBhcmFtKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGdldFByb2NEZWZCaXpSb3V0ZUFuZFByb2Nlc3NJbnN0YW5jZTogZnVuY3Rpb24gZ2V0UHJvY0RlZkJpelJvdXRlQW5kUHJvY2Vzc0luc3RhbmNlKHBhcmFtcywgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiL2FjdC9wcm9jZXNzL2dldFByb2NEZWZCaXpSb3V0ZUFuZFByb2Nlc3NJbnN0YW5jZSIsIHsKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciByZXMgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAocmVzLmNvZGUgIT09IDApIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXJlcy5kYXRhIHx8ICFyZXMuZGF0YS5iaXpSb3V0ZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy4kbWVzc2FnZS5lcnJvcihfdGhpczMuJHQoJ3Byb2Nlc3Mucm91dGVFcnJvcicpKTsKICAgICAgICB9CgogICAgICAgIHZhciBwYXJhbSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSwgcmVzLmRhdGEpOwoKICAgICAgICBjYWxsYmFjayhwYXJhbSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvLyDmoLnmja7mtYHnqIvlrprkuYlLRVnojrflj5bmnIDmlrDnmoTooajljZXot6/nlLHphY3nva7kv6Hmga8KICAgIGdldExhdGVzdFByb2NEZWZSb3V0ZVNldDogZnVuY3Rpb24gZ2V0TGF0ZXN0UHJvY0RlZlJvdXRlU2V0KHByb2NEZWZLZXksIGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoIi9hY3QvcHJvY2Vzcy9nZXRMYXRlc3RQcm9jRGVmQml6Um91dGUiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9jRGVmS2V5OiBwcm9jRGVmS2V5CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciByZXMgPSBfcmVmMy5kYXRhOwoKICAgICAgICBpZiAocmVzLmNvZGUgIT09IDApIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXJlcy5kYXRhIHx8ICFyZXMuZGF0YS5iaXpSb3V0ZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzNC4kbWVzc2FnZS5lcnJvcihfdGhpczQuJHQoJ3Byb2Nlc3Mucm91dGVFcnJvcicpKTsKICAgICAgICB9CgogICAgICAgIHZhciBwYXJhbSA9IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgcHJvY0RlZktleTogcHJvY0RlZktleQogICAgICAgIH0sIHJlcy5kYXRhKTsKCiAgICAgICAgY2FsbGJhY2socGFyYW0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy8g5p+l55yL5rWB56iL5Zu+CiAgICBmb3J3YXJkRGV0YWlsOiBmdW5jdGlvbiBmb3J3YXJkRGV0YWlsKGRhdGEpIHsKICAgICAgdmFyIHJvdXRlUGFyYW1zID0gewogICAgICAgIHJvdXRlTmFtZTogIiIuY29uY2F0KHRoaXMuJHJvdXRlLm5hbWUsICJfX2RldGFpbF8iKS5jb25jYXQoZGF0YS5wcm9jZXNzSW5zdGFuY2VJZCksCiAgICAgICAgbWVudUlkOiAiIi5jb25jYXQodGhpcy4kcm91dGUubWV0YS5tZW51SWQpLAogICAgICAgIHRpdGxlOiAiIi5jb25jYXQodGhpcy4kcm91dGUubWV0YS50aXRsZSwgIiAtICIpLmNvbmNhdChkYXRhLnByb2Nlc3NEZWZpbml0aW9uTmFtZSksCiAgICAgICAgcGF0aDogZGF0YS5iaXpSb3V0ZSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiBkYXRhLnByb2Nlc3NJbnN0YW5jZUlkLAogICAgICAgICAgYnVzaW5lc3NLZXk6IGRhdGEuYnVzaW5lc3NLZXkKICAgICAgICB9CiAgICAgIH07CiAgICAgIGFkZER5bmFtaWNSb3V0ZShyb3V0ZVBhcmFtcywgdGhpcy4kcm91dGVyKTsKICAgIH0sCiAgICAvLyDlrZDnuqcg5p+l55yL5rWB56iL5Zu+CiAgICBmb3J3YXJkVGFza0RldGFpbDogZnVuY3Rpb24gZm9yd2FyZFRhc2tEZXRhaWwoZGF0YSkgewogICAgICB2YXIgcm91dGVQYXJhbXMgPSB7CiAgICAgICAgcm91dGVOYW1lOiAiIi5jb25jYXQodGhpcy4kcm91dGUubmFtZSwgIl9fZGV0YWlsXyIpLmNvbmNhdChkYXRhLnRhc2tJZCksCiAgICAgICAgbWVudUlkOiAiIi5jb25jYXQodGhpcy4kcm91dGUubWV0YS5tZW51SWQpLAogICAgICAgIHRpdGxlOiAiIi5jb25jYXQodGhpcy4kcm91dGUubWV0YS50aXRsZSwgIiAtICIpLmNvbmNhdChkYXRhLnRhc2tOYW1lKSwKICAgICAgICBwYXRoOiBkYXRhLmJpelJvdXRlLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgdGFza0lkOiBkYXRhLnRhc2tJZCwKICAgICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiBkYXRhLnByb2Nlc3NJbnN0YW5jZUlkLAogICAgICAgICAgYnVzaW5lc3NLZXk6IGRhdGEuYnVzaW5lc3NLZXkKICAgICAgICB9CiAgICAgIH07CiAgICAgIGFkZER5bmFtaWNSb3V0ZShyb3V0ZVBhcmFtcywgdGhpcy4kcm91dGVyKTsKICAgIH0sCiAgICBmb3J3YXJkSGFuZGxlVXJsOiBmdW5jdGlvbiBmb3J3YXJkSGFuZGxlVXJsKGRhdGEpIHsKICAgICAgdmFyIHJvdXRlUGFyYW1zID0gewogICAgICAgIHJvdXRlTmFtZTogIiIuY29uY2F0KHRoaXMuJHJvdXRlLm5hbWUsICJfX2hhbmRsZV8iKS5jb25jYXQoZGF0YS50YXNrSWQpLAogICAgICAgIG1lbnVJZDogIiIuY29uY2F0KHRoaXMuJHJvdXRlLm1ldGEubWVudUlkKSwKICAgICAgICB0aXRsZTogIiIuY29uY2F0KHRoaXMuJHJvdXRlLm1ldGEudGl0bGUsICIgLSAiKS5jb25jYXQoZGF0YS50YXNrTmFtZSksCiAgICAgICAgcGF0aDogZGF0YS5iaXpSb3V0ZSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHRhc2tJZDogZGF0YS50YXNrSWQsCiAgICAgICAgICBwcm9jZXNzSW5zdGFuY2VJZDogZGF0YS5wcm9jZXNzSW5zdGFuY2VJZCwKICAgICAgICAgIHByb2Nlc3NTaG93VHlwZTogJ3Rhc2tIYW5kbGUnLAogICAgICAgICAgYnVzaW5lc3NLZXk6IGRhdGEuYnVzaW5lc3NLZXkKICAgICAgICB9CiAgICAgIH07CiAgICAgIGFkZER5bmFtaWNSb3V0ZShyb3V0ZVBhcmFtcywgdGhpcy4kcm91dGVyKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:/frontCode/security-enterprise-admin/src/mixins/process-module.js"],"names":["addDynamicRoute","data","processVisible","methods","initProcessMultiple","callbacks","showType","$route","params","processShowType","$nextTick","processDefinitionKey","$refs","renProcessMultiple","dataForm","taskId","processInstanceId","businessKey","parentObj","closeCurrentTab","tabName","$store","state","contentTabsActiveName","contentTabs","filter","item","name","length","sidebarMenuActiveName","$router","push","getProcDefRouteSet","callback","$http","get","processDefinitionId","then","res","code","$message","error","msg","bizRoute","$t","param","catch","getProcDefBizRouteAndProcessInstance","getLatestProcDefRouteSet","procDefKey","forwardDetail","routeParams","routeName","menuId","meta","title","processDefinitionName","path","forwardTaskDetail","taskName","forwardHandleUrl"],"mappings":"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","sourcesContent":["import { addDynamicRoute } from '@/router'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      processVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化流程配置(集成发起流程和任务处理功能)\r\n    initProcessMultiple (callbacks) {\r\n      // showType 用于区分流程启动（start）、任务处理(taskHandle)以及查看详情(null)\r\n      // 流程启动显示的是“流程启动”按钮，任务处理显示的是“通过、委托、回退、驳回、终止”按钮，查看详情都不显示\r\n      var showType = this.$route.params.processShowType\r\n      this.processVisible = true\r\n      this.$nextTick(() => {\r\n        if (this.$route.params.processDefinitionKey) {\r\n          this.$refs.renProcessMultiple.dataForm.processDefinitionKey = this.$route.params.processDefinitionKey\r\n        }\r\n        if (this.$route.params.taskId) {\r\n          this.$refs.renProcessMultiple.dataForm.taskId = this.$route.params.taskId\r\n        }\r\n        if (this.$route.params.processInstanceId) {\r\n          this.$refs.renProcessMultiple.dataForm.processInstanceId = this.$route.params.processInstanceId\r\n        }\r\n        this.$refs.renProcessMultiple.dataForm.businessKey = this.$route.params.businessKey\r\n        this.$refs.renProcessMultiple.showType = showType\r\n        this.$refs.renProcessMultiple.parentObj = this\r\n        this.$refs.renProcessMultiple.callbacks = callbacks\r\n      })\r\n    },\r\n    // 关闭当前窗口\r\n    closeCurrentTab (data) {\r\n      var tabName = this.$store.state.contentTabsActiveName\r\n      this.$store.state.contentTabs = this.$store.state.contentTabs.filter(item => item.name !== tabName)\r\n      if (this.$store.state.contentTabs.length <= 0) {\r\n        this.$store.state.sidebarMenuActiveName = this.$store.state.contentTabsActiveName = 'home'\r\n        return false\r\n      }\r\n      if (tabName === this.$store.state.contentTabsActiveName) {\r\n        this.$router.push({ name: this.$store.state.contentTabs[this.$store.state.contentTabs.length - 1].name })\r\n      }\r\n    },\r\n    // 获取流程定义的表单路由配置信息\r\n    getProcDefRouteSet (data, callback) {\r\n      this.$http.get(`/act/process/getProcDefBizRoute/${data.processDefinitionId}`).then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        if (!res.data || !res.data.bizRoute) {\r\n          return this.$message.error(this.$t('process.routeError'))\r\n        }\r\n        var param = {\r\n          ...data,\r\n          ...res.data\r\n        }\r\n        callback(param)\r\n      }).catch(() => {})\r\n    },\r\n    getProcDefBizRouteAndProcessInstance (params, callback) {\r\n      this.$http.get(`/act/process/getProcDefBizRouteAndProcessInstance`, {\r\n        params: params\r\n      }).then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        if (!res.data || !res.data.bizRoute) {\r\n          return this.$message.error(this.$t('process.routeError'))\r\n        }\r\n        var param = {\r\n          ...params,\r\n          ...res.data\r\n        }\r\n        callback(param)\r\n      }).catch(() => {})\r\n    },\r\n    // 根据流程定义KEY获取最新的表单路由配置信息\r\n    getLatestProcDefRouteSet (procDefKey, callback) {\r\n      this.$http.get(`/act/process/getLatestProcDefBizRoute`, {\r\n        params: {\r\n          procDefKey: procDefKey\r\n        }\r\n      }).then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        if (!res.data || !res.data.bizRoute) {\r\n          return this.$message.error(this.$t('process.routeError'))\r\n        }\r\n        var param = {\r\n          procDefKey: procDefKey,\r\n          ...res.data\r\n        }\r\n        callback(param)\r\n      }).catch(() => {})\r\n    },\r\n    // 查看流程图\r\n    forwardDetail (data) {\r\n      var routeParams = {\r\n        routeName: `${this.$route.name}__detail_${data.processInstanceId}`,\r\n        menuId: `${this.$route.meta.menuId}`,\r\n        title: `${this.$route.meta.title} - ${data.processDefinitionName}`,\r\n        path: data.bizRoute,\r\n        params: {\r\n          processInstanceId: data.processInstanceId,\r\n          businessKey: data.businessKey\r\n        }\r\n      }\r\n      addDynamicRoute(routeParams, this.$router)\r\n    },\r\n    // 子级 查看流程图\r\n    forwardTaskDetail (data) {\r\n      var routeParams = {\r\n        routeName: `${this.$route.name}__detail_${data.taskId}`,\r\n        menuId: `${this.$route.meta.menuId}`,\r\n        title: `${this.$route.meta.title} - ${data.taskName}`,\r\n        path: data.bizRoute,\r\n        params: {\r\n          taskId: data.taskId,\r\n          processInstanceId: data.processInstanceId,\r\n          businessKey: data.businessKey\r\n        }\r\n      }\r\n      addDynamicRoute(routeParams, this.$router)\r\n    },\r\n    forwardHandleUrl (data) {\r\n      var routeParams = {\r\n        routeName: `${this.$route.name}__handle_${data.taskId}`,\r\n        menuId: `${this.$route.meta.menuId}`,\r\n        title: `${this.$route.meta.title} - ${data.taskName}`,\r\n        path: data.bizRoute,\r\n        params: {\r\n          taskId: data.taskId,\r\n          processInstanceId: data.processInstanceId,\r\n          processShowType: 'taskHandle',\r\n          businessKey: data.businessKey\r\n        }\r\n      }\r\n      addDynamicRoute(routeParams, this.$router)\r\n    }\r\n  }\r\n}\r\n"]}]}