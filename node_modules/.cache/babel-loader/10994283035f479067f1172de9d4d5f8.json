{"remainingRequest":"E:\\frontCode\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\frontCode\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\frontCode\\security-enterprise-admin\\src\\views\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\frontCode\\security-enterprise-admin\\src\\views\\main.vue","mtime":1657251814332},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657251795729},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1657251794312},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657251795729},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1657251812566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovZnJvbnRDb2RlL3NlY3VyaXR5LWVudGVycHJpc2UtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTWFpbk5hdmJhciBmcm9tICcuL21haW4tbmF2YmFyJzsKaW1wb3J0IE1haW5TaWRlYmFyIGZyb20gJy4vbWFpbi1zaWRlYmFyJzsKaW1wb3J0IE1haW5Db250ZW50IGZyb20gJy4vbWFpbi1jb250ZW50JzsKaW1wb3J0IE1haW5UaGVtZVRvb2xzIGZyb20gJy4vbWFpbi10aGVtZS10b29scyc7CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWIt+aWsAogICAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRJc05lZWRSZWZyZXNoID0gdHJ1ZTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudElzTmVlZFJlZnJlc2ggPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTWFpbk5hdmJhcjogTWFpbk5hdmJhciwKICAgIE1haW5TaWRlYmFyOiBNYWluU2lkZWJhciwKICAgIE1haW5Db250ZW50OiBNYWluQ29udGVudCwKICAgIE1haW5UaGVtZVRvb2xzOiBNYWluVGhlbWVUb29scwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogJ3JvdXRlSGFuZGxlJwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMud2luZG93UmVzaXplSGFuZGxlKCk7CiAgICB0aGlzLnJvdXRlSGFuZGxlKHRoaXMuJHJvdXRlKTsKICAgIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0UGVybWlzc2lvbnMoKV0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnqpflj6PmlLnlj5jlpKflsI8KICAgIHdpbmRvd1Jlc2l6ZUhhbmRsZTogZnVuY3Rpb24gd2luZG93UmVzaXplSGFuZGxlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNpZGViYXJGb2xkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WydjbGllbnRXaWR0aCddIDw9IDk5MiB8fCBmYWxzZTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHN0b3JlLnN0YXRlLnNpZGViYXJGb2xkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WydjbGllbnRXaWR0aCddIDw9IDk5MiB8fCBmYWxzZTsKICAgICAgfSwgMTUwKSk7CiAgICB9LAogICAgLy8g6Lev55SxLCDnm5HlkKwKICAgIHJvdXRlSGFuZGxlOiBmdW5jdGlvbiByb3V0ZUhhbmRsZShyb3V0ZSkgewogICAgICBpZiAoIXJvdXRlLm1ldGEuaXNUYWIpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciB0YWIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSByb3V0ZS5uYW1lOwogICAgICB9KVswXTsKCiAgICAgIGlmICghdGFiKSB7CiAgICAgICAgdGFiID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpbmRvdy5TSVRFX0NPTkZJR1snY29udGVudFRhYkRlZmF1bHQnXSksIHJvdXRlLm1ldGEpLCB7fSwgewogICAgICAgICAgJ25hbWUnOiByb3V0ZS5uYW1lLAogICAgICAgICAgJ3BhcmFtcyc6IF9vYmplY3RTcHJlYWQoe30sIHJvdXRlLnBhcmFtcyksCiAgICAgICAgICAncXVlcnknOiBfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZS5xdWVyeSkKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmNvbmNhdCh0YWIpOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zaWRlYmFyTWVudUFjdGl2ZU5hbWUgPSB0YWIubWVudUlkOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFic0FjdGl2ZU5hbWUgPSB0YWIubmFtZTsKICAgIH0sCiAgICAvLyDojrflj5blvZPliY3nrqHnkIblkZjkv6Hmga8KICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9zeXMvdXNlci9pbmZvJykudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciByZXMgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChyZXMuY29kZSAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzNC4kc3RvcmUuc3RhdGUudXNlci5pZCA9IHJlcy5kYXRhLmlkOwogICAgICAgIF90aGlzNC4kc3RvcmUuc3RhdGUudXNlci5uYW1lID0gcmVzLmRhdGEudXNlcm5hbWU7CiAgICAgICAgX3RoaXM0LiRzdG9yZS5zdGF0ZS51c2VyLnN1cGVyQWRtaW4gPSByZXMuZGF0YS5zdXBlckFkbWluOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy8g6I635Y+W5p2D6ZmQCiAgICBnZXRQZXJtaXNzaW9uczogZnVuY3Rpb24gZ2V0UGVybWlzc2lvbnMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KCcvc3lzL21lbnUvcGVybWlzc2lvbnMnKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciByZXMgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAocmVzLmNvZGUgIT09IDApIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cuU0lURV9DT05GSUdbJ3Blcm1pc3Npb25zJ10gPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-loading.fullscreen.lock=\"loading\" :element-loading-text=\"$t('loading')\" :class=\"['aui-wrapper', { 'aui-sidebar--fold': $store.state.sidebarFold }]\">\r\n    <template v-if=\"!loading\">\r\n      <main-navbar />\r\n      <main-sidebar />\r\n      <div class=\"aui-content__wrapper\">\r\n        <main-content v-if=\"!$store.state.contentIsNeedRefresh\" />\r\n      </div>\r\n      <main-theme-tools />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainNavbar from './main-navbar'\r\nimport MainSidebar from './main-sidebar'\r\nimport MainContent from './main-content'\r\nimport MainThemeTools from './main-theme-tools'\r\nimport debounce from 'lodash/debounce'\r\nexport default {\r\n  provide () {\r\n    return {\r\n      // 刷新\r\n      refresh () {\r\n        this.$store.state.contentIsNeedRefresh = true\r\n        this.$nextTick(() => {\r\n          this.$store.state.contentIsNeedRefresh = false\r\n        })\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: true\r\n    }\r\n  },\r\n  components: {\r\n    MainNavbar,\r\n    MainSidebar,\r\n    MainContent,\r\n    MainThemeTools\r\n  },\r\n  watch: {\r\n    $route: 'routeHandle'\r\n  },\r\n  created () {\r\n    this.windowResizeHandle()\r\n    this.routeHandle(this.$route)\r\n    Promise.all([\r\n      this.getUserInfo(),\r\n      this.getPermissions()\r\n    ]).then(() => {\r\n      this.loading = false\r\n    })\r\n  },\r\n  methods: {\r\n    // 窗口改变大小\r\n    windowResizeHandle () {\r\n      this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\r\n      window.addEventListener('resize', debounce(() => {\r\n        this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\r\n      }, 150))\r\n    },\r\n    // 路由, 监听\r\n    routeHandle (route) {\r\n      if (!route.meta.isTab) {\r\n        return false\r\n      }\r\n      var tab = this.$store.state.contentTabs.filter(item => item.name === route.name)[0]\r\n      if (!tab) {\r\n        tab = {\r\n          ...window.SITE_CONFIG['contentTabDefault'],\r\n          ...route.meta,\r\n          'name': route.name,\r\n          'params': { ...route.params },\r\n          'query': { ...route.query }\r\n        }\r\n        this.$store.state.contentTabs = this.$store.state.contentTabs.concat(tab)\r\n      }\r\n      this.$store.state.sidebarMenuActiveName = tab.menuId\r\n      this.$store.state.contentTabsActiveName = tab.name\r\n    },\r\n    // 获取当前管理员信息\r\n    getUserInfo () {\r\n      return this.$http.get('/sys/user/info').then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        this.$store.state.user.id = res.data.id\r\n        this.$store.state.user.name = res.data.username\r\n        this.$store.state.user.superAdmin = res.data.superAdmin\r\n      }).catch(() => {})\r\n    },\r\n    // 获取权限\r\n    getPermissions () {\r\n      return this.$http.get('/sys/menu/permissions').then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        window.SITE_CONFIG['permissions'] = res.data\r\n      }).catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views"}]}