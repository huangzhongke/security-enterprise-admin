{"remainingRequest":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\src\\views\\main.vue","mtime":1595727761901},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\babel.config.js","mtime":1595727761751},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639029294232},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1639029293447},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639029294232},{"path":"D:\\codeSpace\\security-enterprise-FrontBackSplit_2.7.0\\security-enterprise-2.7.0\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1639029303663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXGNvZGVTcGFjZVxcc2VjdXJpdHktZW50ZXJwcmlzZS1Gcm9udEJhY2tTcGxpdF8yLjcuMFxcc2VjdXJpdHktZW50ZXJwcmlzZS0yLjcuMFxcc2VjdXJpdHktZW50ZXJwcmlzZS1hZG1pblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNYWluTmF2YmFyIGZyb20gJy4vbWFpbi1uYXZiYXInOwppbXBvcnQgTWFpblNpZGViYXIgZnJvbSAnLi9tYWluLXNpZGViYXInOwppbXBvcnQgTWFpbkNvbnRlbnQgZnJvbSAnLi9tYWluLWNvbnRlbnQnOwppbXBvcnQgTWFpblRoZW1lVG9vbHMgZnJvbSAnLi9tYWluLXRoZW1lLXRvb2xzJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5Yi35pawCiAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudElzTmVlZFJlZnJlc2ggPSB0cnVlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50SXNOZWVkUmVmcmVzaCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNYWluTmF2YmFyOiBNYWluTmF2YmFyLAogICAgTWFpblNpZGViYXI6IE1haW5TaWRlYmFyLAogICAgTWFpbkNvbnRlbnQ6IE1haW5Db250ZW50LAogICAgTWFpblRoZW1lVG9vbHM6IE1haW5UaGVtZVRvb2xzCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiAncm91dGVIYW5kbGUnCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy53aW5kb3dSZXNpemVIYW5kbGUoKTsKICAgIHRoaXMucm91dGVIYW5kbGUodGhpcy4kcm91dGUpOwogICAgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRQZXJtaXNzaW9ucygpXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeql+WPo+aUueWPmOWkp+WwjwogICAgd2luZG93UmVzaXplSGFuZGxlOiBmdW5jdGlvbiB3aW5kb3dSZXNpemVIYW5kbGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2lkZWJhckZvbGQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbJ2NsaWVudFdpZHRoJ10gPD0gOTkyIHx8IGZhbHNlOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kc3RvcmUuc3RhdGUuc2lkZWJhckZvbGQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbJ2NsaWVudFdpZHRoJ10gPD0gOTkyIHx8IGZhbHNlOwogICAgICB9LCAxNTApKTsKICAgIH0sCiAgICAvLyDot6/nlLEsIOebkeWQrAogICAgcm91dGVIYW5kbGU6IGZ1bmN0aW9uIHJvdXRlSGFuZGxlKHJvdXRlKSB7CiAgICAgIGlmICghcm91dGUubWV0YS5pc1RhYikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIHRhYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHJvdXRlLm5hbWU7CiAgICAgIH0pWzBdOwoKICAgICAgaWYgKCF0YWIpIHsKICAgICAgICB0YWIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgd2luZG93LlNJVEVfQ09ORklHWydjb250ZW50VGFiRGVmYXVsdCddKSwgcm91dGUubWV0YSksIHt9LCB7CiAgICAgICAgICAnbmFtZSc6IHJvdXRlLm5hbWUsCiAgICAgICAgICAncGFyYW1zJzogX29iamVjdFNwcmVhZCh7fSwgcm91dGUucGFyYW1zKSwKICAgICAgICAgICdxdWVyeSc6IF9vYmplY3RTcHJlYWQoe30sIHJvdXRlLnF1ZXJ5KQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzID0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnMuY29uY2F0KHRhYik7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNpZGViYXJNZW51QWN0aXZlTmFtZSA9IHRhYi5tZW51SWQ7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzQWN0aXZlTmFtZSA9IHRhYi5uYW1lOwogICAgfSwKICAgIC8vIOiOt+WPluW9k+WJjeeuoeeQhuWRmOS/oeaBrwogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3N5cy91c2VyL2luZm8nKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHJlcyA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM0LiRzdG9yZS5zdGF0ZS51c2VyLmlkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgX3RoaXM0LiRzdG9yZS5zdGF0ZS51c2VyLm5hbWUgPSByZXMuZGF0YS51c2VybmFtZTsKICAgICAgICBfdGhpczQuJHN0b3JlLnN0YXRlLnVzZXIuc3VwZXJBZG1pbiA9IHJlcy5kYXRhLnN1cGVyQWRtaW47CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvLyDojrflj5bmnYPpmZAKICAgIGdldFBlcm1pc3Npb25zOiBmdW5jdGlvbiBnZXRQZXJtaXNzaW9ucygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9zeXMvbWVudS9wZXJtaXNzaW9ucycpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIHJlcyA9IF9yZWYyLmRhdGE7CgogICAgICAgIGlmIChyZXMuY29kZSAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5TSVRFX0NPTkZJR1sncGVybWlzc2lvbnMnXSA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-loading.fullscreen.lock=\"loading\" :element-loading-text=\"$t('loading')\" :class=\"['aui-wrapper', { 'aui-sidebar--fold': $store.state.sidebarFold }]\">\n    <template v-if=\"!loading\">\n      <main-navbar />\n      <main-sidebar />\n      <div class=\"aui-content__wrapper\">\n        <main-content v-if=\"!$store.state.contentIsNeedRefresh\" />\n      </div>\n      <main-theme-tools />\n    </template>\n  </div>\n</template>\n\n<script>\nimport MainNavbar from './main-navbar'\nimport MainSidebar from './main-sidebar'\nimport MainContent from './main-content'\nimport MainThemeTools from './main-theme-tools'\nimport debounce from 'lodash/debounce'\nexport default {\n  provide () {\n    return {\n      // 刷新\n      refresh () {\n        this.$store.state.contentIsNeedRefresh = true\n        this.$nextTick(() => {\n          this.$store.state.contentIsNeedRefresh = false\n        })\n      }\n    }\n  },\n  data () {\n    return {\n      loading: true\n    }\n  },\n  components: {\n    MainNavbar,\n    MainSidebar,\n    MainContent,\n    MainThemeTools\n  },\n  watch: {\n    $route: 'routeHandle'\n  },\n  created () {\n    this.windowResizeHandle()\n    this.routeHandle(this.$route)\n    Promise.all([\n      this.getUserInfo(),\n      this.getPermissions()\n    ]).then(() => {\n      this.loading = false\n    })\n  },\n  methods: {\n    // 窗口改变大小\n    windowResizeHandle () {\n      this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\n      window.addEventListener('resize', debounce(() => {\n        this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\n      }, 150))\n    },\n    // 路由, 监听\n    routeHandle (route) {\n      if (!route.meta.isTab) {\n        return false\n      }\n      var tab = this.$store.state.contentTabs.filter(item => item.name === route.name)[0]\n      if (!tab) {\n        tab = {\n          ...window.SITE_CONFIG['contentTabDefault'],\n          ...route.meta,\n          'name': route.name,\n          'params': { ...route.params },\n          'query': { ...route.query }\n        }\n        this.$store.state.contentTabs = this.$store.state.contentTabs.concat(tab)\n      }\n      this.$store.state.sidebarMenuActiveName = tab.menuId\n      this.$store.state.contentTabsActiveName = tab.name\n    },\n    // 获取当前管理员信息\n    getUserInfo () {\n      return this.$http.get('/sys/user/info').then(({ data: res }) => {\n        if (res.code !== 0) {\n          return this.$message.error(res.msg)\n        }\n        this.$store.state.user.id = res.data.id\n        this.$store.state.user.name = res.data.username\n        this.$store.state.user.superAdmin = res.data.superAdmin\n      }).catch(() => {})\n    },\n    // 获取权限\n    getPermissions () {\n      return this.$http.get('/sys/menu/permissions').then(({ data: res }) => {\n        if (res.code !== 0) {\n          return this.$message.error(res.msg)\n        }\n        window.SITE_CONFIG['permissions'] = res.data\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}