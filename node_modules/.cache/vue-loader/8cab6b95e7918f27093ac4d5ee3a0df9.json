{"remainingRequest":"E:\\frontCode\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\frontCode\\security-enterprise-admin\\src\\views\\main-content.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\frontCode\\security-enterprise-admin\\src\\views\\main-content.vue","mtime":1657251814329},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657251795729},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1657251794312},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657251795729},{"path":"E:\\frontCode\\security-enterprise-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1657251812566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBpc1VSTCB9IGZyb20gJ0AvdXRpbHMvdmFsaWRhdGUnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8gdGFicywg5piv5ZCm6YCa6L+HaWZyYW1l5bGV56S6DQogICAgdGFiSXNJZnJhbWUgKHVybCkgew0KICAgICAgcmV0dXJuIGlzVVJMKHVybCkNCiAgICB9LA0KICAgIC8vIHRhYnMsIOmAieS4rXRhYg0KICAgIHRhYlNlbGVjdGVkSGFuZGxlICh0YWIpIHsNCiAgICAgIHRhYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmZpbHRlcihpdGVtID0+IGl0ZW0ubmFtZSA9PT0gdGFiLm5hbWUpWzBdDQogICAgICBpZiAodGFiKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAnbmFtZSc6IHRhYi5uYW1lLA0KICAgICAgICAgICdwYXJhbXMnOiB7IC4uLnRhYi5wYXJhbXMgfSwNCiAgICAgICAgICAncXVlcnknOiB7IC4uLnRhYi5xdWVyeSB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyB0YWJzLCDliKDpmaR0YWINCiAgICB0YWJSZW1vdmVIYW5kbGUgKHRhYk5hbWUpIHsNCiAgICAgIGlmICh0YWJOYW1lID09PSAnaG9tZScpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmZpbHRlcihpdGVtID0+IGl0ZW0ubmFtZSAhPT0gdGFiTmFtZSkNCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicy5sZW5ndGggPD0gMCkgew0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zaWRlYmFyTWVudUFjdGl2ZU5hbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFic0FjdGl2ZU5hbWUgPSAnaG9tZScNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICAvLyDlvZPliY3pgInkuK10YWLooqvliKDpmaQNCiAgICAgIGlmICh0YWJOYW1lID09PSB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFic0FjdGl2ZU5hbWUpIHsNCiAgICAgICAgbGV0IHRhYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzW3RoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmxlbmd0aCAtIDFdDQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiB0YWIubmFtZSwNCiAgICAgICAgICBwYXJhbXM6IHsgLi4udGFiLnBhcmFtcyB9LA0KICAgICAgICAgIHF1ZXJ5OiB7IC4uLnRhYi5xdWVyeSB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyB0YWJzLCDlhbPpl63lhbblroMNCiAgICB0YWJzQ2xvc2VPdGhlckhhbmRsZSAoKSB7DQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb250ZW50VGFicyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzLmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gJ2hvbWUnIHx8IGl0ZW0ubmFtZSA9PT0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnNBY3RpdmVOYW1lDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8gdGFicywg5YWz6Zet5YWo6YOoDQogICAgdGFic0Nsb3NlQWxsSGFuZGxlICgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvbnRlbnRUYWJzID0gdGhpcy4kc3RvcmUuc3RhdGUuY29udGVudFRhYnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lID09PSAnaG9tZScpDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdob21lJyB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["main-content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main-content.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <main :class=\"['aui-content', { 'aui-content--tabs': $route.meta.isTab }]\">\r\n    <!-- tab展示内容 -->\r\n    <template v-if=\"$route.meta.isTab\">\r\n      <el-dropdown class=\"aui-content--tabs-tools\">\r\n        <i class=\"el-icon-arrow-down\"></i>\r\n        <el-dropdown-menu slot=\"dropdown\" :show-timeout=\"0\">\r\n          <el-dropdown-item @click.native=\"tabRemoveHandle($store.state.contentTabsActiveName)\">{{ $t('contentTabs.closeCurrent') }}</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseOtherHandle()\">{{ $t('contentTabs.closeOther') }}</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseAllHandle()\">{{ $t('contentTabs.closeAll') }}</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n      <el-tabs v-model=\"$store.state.contentTabsActiveName\" @tab-click=\"tabSelectedHandle\" @tab-remove=\"tabRemoveHandle\">\r\n        <el-tab-pane\r\n          v-for=\"item in $store.state.contentTabs\"\r\n          :key=\"item.name\"\r\n          :name=\"item.name\"\r\n          :label=\"item.title\"\r\n          :closable=\"item.name !== 'home'\"\r\n          :class=\"{ 'is-iframe': tabIsIframe(item.iframeURL) }\">\r\n          <template v-if=\"item.name === 'home'\">\r\n            <svg slot=\"label\" class=\"icon-svg aui-content--tabs-icon-nav\" aria-hidden=\"true\"><use xlink:href=\"#icon-home\"></use></svg>\r\n          </template>\r\n          <iframe v-if=\"tabIsIframe(item.iframeURL)\" :src=\"item.iframeURL\" width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"yes\"></iframe>\r\n          <keep-alive v-else>\r\n            <router-view v-if=\"item.name === $store.state.contentTabsActiveName\" />\r\n          </keep-alive>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </template>\r\n    <!-- 其他方式, 展示内容 -->\r\n    <template v-else>\r\n      <keep-alive>\r\n        <router-view />\r\n      </keep-alive>\r\n    </template>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { isURL } from '@/utils/validate'\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    // tabs, 是否通过iframe展示\r\n    tabIsIframe (url) {\r\n      return isURL(url)\r\n    },\r\n    // tabs, 选中tab\r\n    tabSelectedHandle (tab) {\r\n      tab = this.$store.state.contentTabs.filter(item => item.name === tab.name)[0]\r\n      if (tab) {\r\n        this.$router.push({\r\n          'name': tab.name,\r\n          'params': { ...tab.params },\r\n          'query': { ...tab.query }\r\n        })\r\n      }\r\n    },\r\n    // tabs, 删除tab\r\n    tabRemoveHandle (tabName) {\r\n      if (tabName === 'home') {\r\n        return false\r\n      }\r\n      this.$store.state.contentTabs = this.$store.state.contentTabs.filter(item => item.name !== tabName)\r\n      if (this.$store.state.contentTabs.length <= 0) {\r\n        this.$store.state.sidebarMenuActiveName = this.$store.state.contentTabsActiveName = 'home'\r\n        return false\r\n      }\r\n      // 当前选中tab被删除\r\n      if (tabName === this.$store.state.contentTabsActiveName) {\r\n        let tab = this.$store.state.contentTabs[this.$store.state.contentTabs.length - 1]\r\n        this.$router.push({\r\n          name: tab.name,\r\n          params: { ...tab.params },\r\n          query: { ...tab.query }\r\n        })\r\n      }\r\n    },\r\n    // tabs, 关闭其它\r\n    tabsCloseOtherHandle () {\r\n      this.$store.state.contentTabs = this.$store.state.contentTabs.filter(item => {\r\n        return item.name === 'home' || item.name === this.$store.state.contentTabsActiveName\r\n      })\r\n    },\r\n    // tabs, 关闭全部\r\n    tabsCloseAllHandle () {\r\n      this.$store.state.contentTabs = this.$store.state.contentTabs.filter(item => item.name === 'home')\r\n      this.$router.push({ name: 'home' })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}