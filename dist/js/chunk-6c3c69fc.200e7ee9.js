(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c3c69fc"],{"0585":function(t,e,a){},"0bde":function(t,e,a){"use strict";var r=a("0585"),i=a.n(r);i.a},2163:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,title:t.insert?t.$t("add"):t.$t("update"),"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmitHandle()}}},[a("el-form-item",{attrs:{prop:"parentName",label:"上级区域"}},[a("ren-region-tree",{attrs:{placeholder:"选择区域","parent-name":t.dataForm.parentName},on:{"update:parentName":function(e){return t.$set(t.dataForm,"parentName",e)},"update:parent-name":function(e){return t.$set(t.dataForm,"parentName",e)}},model:{value:t.dataForm.pid,callback:function(e){t.$set(t.dataForm,"pid",e)},expression:"dataForm.pid"}})],1),a("el-form-item",{attrs:{prop:"name",label:t.$t("region.name")}},[a("el-input",{attrs:{placeholder:t.$t("region.name")},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"id",label:t.$t("region.id")}},[a("el-input",{attrs:{disabled:!t.insert,placeholder:t.$t("region.id")},model:{value:t.dataForm.id,callback:function(e){t.$set(t.dataForm,"id",e)},expression:"dataForm.id"}})],1),a("el-form-item",{attrs:{prop:"sort",label:t.$t("region.sort")}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:t.$t("region.sort")},model:{value:t.dataForm.sort,callback:function(e){t.$set(t.dataForm,"sort",e)},expression:"dataForm.sort"}})],1)],1),a("template",{slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmitHandle()}}},[t._v(t._s(t.$t("confirm")))])],1)],2)},i=[],n=a("5530"),o=a("b047"),s=a.n(o),d={data:function(){return{visible:!1,insert:!0,regionList:[],regionListVisible:!1,dataForm:{id:"",name:"",pid:"0",parentName:"",sort:0}}},computed:{dataRule:function(){return{id:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],name:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],sort:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.insert=!0,this.visible=!0,this.dataForm.pid="0",this.$nextTick((function(){e.$refs["dataForm"].resetFields(),e.dataForm.id=t,e.dataForm.id&&(e.insert=!1,e.getInfo())}))},getInfo:function(){var t=this;this.$http.get("/sys/region/".concat(this.dataForm.id)).then((function(e){var a=e.data;if(0!==a.code)return t.$message.error(a.msg);t.dataForm=Object(n["a"])(Object(n["a"])({},t.dataForm),a.data),t.$refs.regionListTree.setCurrentKey(t.dataForm.pid)})).catch((function(){}))},dataFormSubmitHandle:s()((function(){var t=this;this.$refs["dataForm"].validate((function(e){if(!e)return!1;t.$http[t.insert?"post":"put"]("/sys/region",t.dataForm).then((function(e){var a=e.data;if(0!==a.code)return t.$message.error(a.msg);t.$message({message:t.$t("prompt.success"),type:"success",duration:500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})})).catch((function(){}))}))}),1e3,{leading:!0,trailing:!1})}},l=d,m=(a("0bde"),a("2877")),u=Object(m["a"])(l,r,i,!1,null,null,null);e["default"]=u.exports}}]);