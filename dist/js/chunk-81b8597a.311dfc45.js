(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81b8597a"],{"019a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"en-US"===e.$i18n.locale?"120px":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmitHandle()}}},[a("el-form-item",{attrs:{label:e.$t("correction.post"),prop:"applyPost"}},[a("el-input",{attrs:{disabled:e.fieldDisabled,placeholder:e.$t("correction.post")},model:{value:e.dataForm.applyPost,callback:function(t){e.$set(e.dataForm,"applyPost",t)},expression:"dataForm.applyPost"}})],1),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("correction.entryDate"),prop:"entryDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.fieldDisabled,"value-format":"yyyy-MM-dd",placeholder:e.$t("correction.entryDate")},model:{value:e.dataForm.entryDate,callback:function(t){e.$set(e.dataForm,"entryDate",t)},expression:"dataForm.entryDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("correction.correctionDate"),prop:"correctionDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.fieldDisabled,"value-format":"yyyy-MM-dd",placeholder:e.$t("correction.correctionDate")},model:{value:e.dataForm.correctionDate,callback:function(t){e.$set(e.dataForm,"correctionDate",t)},expression:"dataForm.correctionDate"}})],1)],1)],1),a("el-form-item",{attrs:{label:e.$t("correction.workContent"),prop:"workContent"}},[a("el-input",{attrs:{type:"textarea",disabled:e.fieldDisabled,placeholder:e.$t("correction.workContent")},model:{value:e.dataForm.workContent,callback:function(t){e.$set(e.dataForm,"workContent",t)},expression:"dataForm.workContent"}})],1),a("el-form-item",{attrs:{label:e.$t("correction.achievement"),prop:"achievement"}},[a("el-input",{attrs:{type:"textarea",disabled:e.fieldDisabled,placeholder:e.$t("correction.achievement")},model:{value:e.dataForm.achievement,callback:function(t){e.$set(e.dataForm,"achievement",t)},expression:"dataForm.achievement"}})],1)],1),e.processVisible?a("ren-process-multiple",{ref:"renProcessMultiple",attrs:{updateInstanceIdUrl:"/act/demo/correction/updateInstanceId",saveFormUrl:"/act/demo/correction",dataFormName:"dataForm"}}):e._e()],1)},s=[],o=a("5530"),n=a("5536"),c={mixins:[n["a"]],data:function(){return{visible:!1,fieldDisabled:!1,dataForm:{id:"",applyPost:"",entryDate:"",correctionDate:"",workContent:"",achievement:"",creator:"",createDate:""}}},created:function(){this.dataForm.id=this.$route.params.businessKey,this.init();var e={startProcessSuccessCallback:this.closeCurrentTab,startProcessErrorCallback:this.startProcessErrorCallback,taskHandleSuccessCallback:this.closeCurrentTab,taskHandleErrorCallback:this.taskHandleErrorCallback,formSaveSuccessCallback:null,formSaveErrorCallback:null};this.initProcessMultiple(e)},computed:{dataRule:function(){return{applyPost:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],entryDate:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],correctionDate:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],workContent:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],achievement:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],createTime:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].resetFields(),e.dataForm.id&&(e.fieldDisabled=!0,e.getInfo())}))},getInfo:function(){var e=this;this.$http.get("/act/demo/correction/".concat(this.dataForm.id)).then((function(t){var a=t.data;if(0!==a.code)return e.$message.error(a.msg);e.dataForm=Object(o["a"])(Object(o["a"])({},e.dataForm),a.data)})).catch((function(){}))},startProcessErrorCallback:function(e){console.log(e)},taskHandleErrorCallback:function(e){}}},i=c,l=a("2877"),d=Object(l["a"])(i,r,s,!1,null,null,null);t["default"]=d.exports},5536:function(e,t,a){"use strict";a("99af"),a("4de4"),a("b0c0");var r=a("5530"),s=a("a18c");t["a"]={data:function(){return{processVisible:!1}},methods:{initProcessMultiple:function(e){var t=this,a=this.$route.params.processShowType;this.processVisible=!0,this.$nextTick((function(){t.$route.params.processDefinitionKey&&(t.$refs.renProcessMultiple.dataForm.processDefinitionKey=t.$route.params.processDefinitionKey),t.$route.params.taskId&&(t.$refs.renProcessMultiple.dataForm.taskId=t.$route.params.taskId),t.$route.params.processInstanceId&&(t.$refs.renProcessMultiple.dataForm.processInstanceId=t.$route.params.processInstanceId),t.$refs.renProcessMultiple.dataForm.businessKey=t.$route.params.businessKey,t.$refs.renProcessMultiple.showType=a,t.$refs.renProcessMultiple.parentObj=t,t.$refs.renProcessMultiple.callbacks=e}))},closeCurrentTab:function(e){var t=this.$store.state.contentTabsActiveName;if(this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return e.name!==t})),this.$store.state.contentTabs.length<=0)return this.$store.state.sidebarMenuActiveName=this.$store.state.contentTabsActiveName="home",!1;t===this.$store.state.contentTabsActiveName&&this.$router.push({name:this.$store.state.contentTabs[this.$store.state.contentTabs.length-1].name})},getProcDefRouteSet:function(e,t){var a=this;this.$http.get("/act/process/getProcDefBizRoute/".concat(e.processDefinitionId)).then((function(s){var o=s.data;if(0!==o.code)return a.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return a.$message.error(a.$t("process.routeError"));var n=Object(r["a"])(Object(r["a"])({},e),o.data);t(n)})).catch((function(){}))},getProcDefBizRouteAndProcessInstance:function(e,t){var a=this;this.$http.get("/act/process/getProcDefBizRouteAndProcessInstance",{params:e}).then((function(s){var o=s.data;if(0!==o.code)return a.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return a.$message.error(a.$t("process.routeError"));var n=Object(r["a"])(Object(r["a"])({},e),o.data);t(n)})).catch((function(){}))},getLatestProcDefRouteSet:function(e,t){var a=this;this.$http.get("/act/process/getLatestProcDefBizRoute",{params:{procDefKey:e}}).then((function(s){var o=s.data;if(0!==o.code)return a.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return a.$message.error(a.$t("process.routeError"));var n=Object(r["a"])({procDefKey:e},o.data);t(n)})).catch((function(){}))},forwardDetail:function(e){var t={routeName:"".concat(this.$route.name,"__detail_").concat(e.processInstanceId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.processDefinitionName),path:e.bizRoute,params:{processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(s["a"])(t,this.$router)},forwardTaskDetail:function(e){var t={routeName:"".concat(this.$route.name,"__detail_").concat(e.taskId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(s["a"])(t,this.$router)},forwardHandleUrl:function(e){var t={routeName:"".concat(this.$route.name,"__handle_").concat(e.taskId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,processShowType:"taskHandle",businessKey:e.businessKey}};Object(s["a"])(t,this.$router)}}}}}]);